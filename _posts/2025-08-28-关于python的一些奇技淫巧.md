---
layout: post
title: "关于python的奇技淫巧"
date: 2025-08-28
tags: [python]
---
自己在学习python过程遇到的一些问题和解决方法


<!--more-->
最近在远程服务器上跑 Python 代码的时候频繁遇到导包时找不到包的问题，原因是当我点击 VS Code 右上角的小三角运行代码时，其实是在当前文件的包中运行（项目包的一个子包），自然无法定位到项目其他文件中的包类/函数。解决方法是在导包前（from ... import ...）添加这样一段代码：

```python
import os
import sys

ROOT = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))
if ROOT not in sys.path:
    sys.path.insert(0, ROOT)
```

具体代码解释：
- os.path.abspath(__file__)：定位到当前文件的绝对路径
- os.path.dirname()：退回到上一级目录
- ROOT：退回 n 次找到项目根路径
- sys.path.insert(0, ROOT)：将根路径作为 Python 解释器查找路径的第一位

在后续导包过程中，可以直接使用文件夹名 + . + 文件名定位到模块。
如果还是不行，可以在文件夹中手动添加一个空的 __init__.py 文件，将当前文件夹初始化为包（一般不用此步骤）。
