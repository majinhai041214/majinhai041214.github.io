---
layout: blog
title: 博客
permalink: /blog/
---

<section class="blog-hero">
  <h1>博客文章</h1>
  <p> · 粒子 · 单列长页</p>
</section>

<div class="top-actions">
  <a class="back-home" href="{{ "/" | relative_url }}">← 返回首页</a>
  <input id="search" class="search" type="search" placeholder="搜索标题或摘要…">
</div>

<ul id="list" class="post-list">
  {% for post in site.posts %}
  <li class="post-card"
      data-title="{{ post.title | downcase }}"
      data-excerpt="{{ post.excerpt | strip_html | downcase }}">
    <div class="post-date">{{ post.date | date: "%Y-%m-%d" }}</div>
    <h2 class="post-title"><a href="{{ post.url | relative_url }}">{{ post.title }}</a></h2>
    <p class="post-excerpt">{{ post.excerpt | strip_html | truncate: 140 }}</p>

    {% if post.tags and post.tags.size > 0 %}
    <div class="tags">
      {% for t in post.tags %}
      <span class="tag">#{{ t }}</span>
      {% endfor %}
    </div>
    {% endif %}

    <a class="read-link" href="{{ post.url | relative_url }}">阅读全文</a>
  </li>
  {% endfor %}
</ul>

<script>
  // 前端搜索：过滤标题/摘要
  const q = document.getElementById('search');
  const cards = [...document.querySelectorAll('.post-card')];
  q?.addEventListener('input', e => {
    const s = e.target.value.trim().toLowerCase();
    cards.forEach(c => {
      const hit = c.dataset.title.includes(s) || c.dataset.excerpt.includes(s);
      c.style.display = hit ? '' : 'none';
    });
  });
</script>
